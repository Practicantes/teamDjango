--
-- PostgreSQL database dump
--

-- Dumped from database version 11.5
-- Dumped by pg_dump version 11.5

-- Started on 2019-09-20 16:24:00

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 204 (class 1259 OID 16699)
-- Name: Abono; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Abono" (
    id_abono integer NOT NULL,
    "Cantidad" character varying,
    id_pago integer NOT NULL,
    "id:mensualidad" integer NOT NULL
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Abono" OWNER TO postgres;

--
-- TOC entry 198 (class 1259 OID 16653)
-- Name: Asignacion; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Asignacion" (
    id_horario integer NOT NULL,
    id_user integer NOT NULL,
    id_nivel integer NOT NULL,
    id_master integer NOT NULL
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Asignacion" OWNER TO postgres;

--
-- TOC entry 201 (class 1259 OID 16674)
-- Name: Docente; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Docente" (
    id_master integer NOT NULL,
    nombre character varying,
    "Apellido" character varying,
    "Correo" character varying,
    "Contraseña" character varying,
    "Direccion" character varying,
    "Telefono" character varying,
    "Fecha_nacimiento" date
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Docente" OWNER TO postgres;

--
-- TOC entry 200 (class 1259 OID 16666)
-- Name: Horario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Horario" (
    id_horario integer NOT NULL,
    "Hora" character varying,
    "Día" character varying
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Horario" OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 16707)
-- Name: Mensualidad; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Mensualidad" (
    id_mensualidad integer NOT NULL,
    "Mes" character varying
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Mensualidad" OWNER TO postgres;

--
-- TOC entry 199 (class 1259 OID 16658)
-- Name: Niveles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Niveles" (
    id_nivel integer NOT NULL,
    nombre character varying,
    id_master integer NOT NULL
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Niveles" OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 16682)
-- Name: Pago; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Pago" (
    id_pago integer NOT NULL,
    "Descuento" character varying,
    "Extra" character varying,
    "id:mensualidad" integer NOT NULL,
    id_user integer,
    "id_tipoP" integer,
    "Total" character varying
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Pago" OWNER TO postgres;

--
-- TOC entry 203 (class 1259 OID 16691)
-- Name: Tipo_pago; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Tipo_pago" (
    "id_tipoP" integer NOT NULL,
    "Descripcion" character varying
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Tipo_pago" OWNER TO postgres;

--
-- TOC entry 196 (class 1259 OID 16636)
-- Name: Tipo_usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Tipo_usuario" (
    "id_tipoU" integer NOT NULL,
    "Descripcion" character varying
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Tipo_usuario" OWNER TO postgres;

--
-- TOC entry 197 (class 1259 OID 16644)
-- Name: Usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Usuario" (
    id_user integer NOT NULL,
    "Nombre" character varying,
    "Apellido" character varying,
    "Correo" character varying,
    "Contraseña" character varying,
    "Direccion" character varying,
    "Telefono" character varying,
    "Fecha_nacimiento" date,
    "id_tipoU" integer
)
WITH (autovacuum_enabled='true');


ALTER TABLE public."Usuario" OWNER TO postgres;

--
-- TOC entry 2888 (class 0 OID 16699)
-- Dependencies: 204
-- Data for Name: Abono; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Abono" (id_abono, "Cantidad", id_pago, "id:mensualidad") FROM stdin;
\.


--
-- TOC entry 2882 (class 0 OID 16653)
-- Dependencies: 198
-- Data for Name: Asignacion; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Asignacion" (id_horario, id_user, id_nivel, id_master) FROM stdin;
\.


--
-- TOC entry 2885 (class 0 OID 16674)
-- Dependencies: 201
-- Data for Name: Docente; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Docente" (id_master, nombre, "Apellido", "Correo", "Contraseña", "Direccion", "Telefono", "Fecha_nacimiento") FROM stdin;
1	Santiago	Xoyon	Sanxo@gmail.com	elperronegro	3ra av 4-30 zona 3, Chimaltenango	39029328	1994-08-12
2	Juan	Perez	jupe@gmail.com	lacamisaverde	4ta av 9-20 zona 4, Chimaltenango	91232034	1993-03-21
3	Jonathan	Ramirez	jona_ra@gmail.com	patricioestrellaxd	8va av 7-30 zona 8, Chimaltenango	28392019	1997-01-29
\.


--
-- TOC entry 2884 (class 0 OID 16666)
-- Dependencies: 200
-- Data for Name: Horario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Horario" (id_horario, "Hora", "Día") FROM stdin;
1	2:30-6:30	lunes-jueves
2	2:30-5:30	viernes
3	8:30-2:30	Sabado
\.


--
-- TOC entry 2889 (class 0 OID 16707)
-- Dependencies: 205
-- Data for Name: Mensualidad; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Mensualidad" (id_mensualidad, "Mes") FROM stdin;
1	Enero
2	Febrero
3	Marzo
4	Abril
5	Mayo
6	Junio
7	Julio
8	Agosto
9	Septiembre
10	Octubre
11	Noviembre
12	Diciembre
\.


--
-- TOC entry 2883 (class 0 OID 16658)
-- Dependencies: 199
-- Data for Name: Niveles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Niveles" (id_nivel, nombre, id_master) FROM stdin;
1	A	1
2	B	2
3	C	3
4	D	1
5	E	2
6	F	3
\.


--
-- TOC entry 2886 (class 0 OID 16682)
-- Dependencies: 202
-- Data for Name: Pago; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Pago" (id_pago, "Descuento", "Extra", "id:mensualidad", id_user, "id_tipoP", "Total") FROM stdin;
\.


--
-- TOC entry 2887 (class 0 OID 16691)
-- Dependencies: 203
-- Data for Name: Tipo_pago; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Tipo_pago" ("id_tipoP", "Descripcion") FROM stdin;
1	Mensualidad
2	Libro
\.


--
-- TOC entry 2880 (class 0 OID 16636)
-- Dependencies: 196
-- Data for Name: Tipo_usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Tipo_usuario" ("id_tipoU", "Descripcion") FROM stdin;
1	Administrador
2	Secretaria
3	Alumno
\.


--
-- TOC entry 2881 (class 0 OID 16644)
-- Dependencies: 197
-- Data for Name: Usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Usuario" (id_user, "Nombre", "Apellido", "Correo", "Contraseña", "Direccion", "Telefono", "Fecha_nacimiento", "id_tipoU") FROM stdin;
\.


--
-- TOC entry 2747 (class 2606 OID 16706)
-- Name: Abono PK_Abono; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Abono"
    ADD CONSTRAINT "PK_Abono" PRIMARY KEY (id_abono, id_pago, "id:mensualidad");


--
-- TOC entry 2734 (class 2606 OID 16657)
-- Name: Asignacion PK_Asignacion; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Asignacion"
    ADD CONSTRAINT "PK_Asignacion" PRIMARY KEY (id_horario, id_user, id_nivel, id_master);


--
-- TOC entry 2740 (class 2606 OID 16681)
-- Name: Docente PK_Docente; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Docente"
    ADD CONSTRAINT "PK_Docente" PRIMARY KEY (id_master);


--
-- TOC entry 2738 (class 2606 OID 16673)
-- Name: Horario PK_Horario; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Horario"
    ADD CONSTRAINT "PK_Horario" PRIMARY KEY (id_horario);


--
-- TOC entry 2749 (class 2606 OID 16714)
-- Name: Mensualidad PK_Mensualidad; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Mensualidad"
    ADD CONSTRAINT "PK_Mensualidad" PRIMARY KEY (id_mensualidad);


--
-- TOC entry 2736 (class 2606 OID 16665)
-- Name: Niveles PK_Niveles; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Niveles"
    ADD CONSTRAINT "PK_Niveles" PRIMARY KEY (id_nivel, id_master);


--
-- TOC entry 2743 (class 2606 OID 16690)
-- Name: Pago PK_Pago; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Pago"
    ADD CONSTRAINT "PK_Pago" PRIMARY KEY (id_pago, "id:mensualidad");


--
-- TOC entry 2745 (class 2606 OID 16698)
-- Name: Tipo_pago PK_Tipo_pago; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Tipo_pago"
    ADD CONSTRAINT "PK_Tipo_pago" PRIMARY KEY ("id_tipoP");


--
-- TOC entry 2729 (class 2606 OID 16643)
-- Name: Tipo_usuario PK_Tipo_usuario; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Tipo_usuario"
    ADD CONSTRAINT "PK_Tipo_usuario" PRIMARY KEY ("id_tipoU");


--
-- TOC entry 2732 (class 2606 OID 16652)
-- Name: Usuario PK_Usuario; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Usuario"
    ADD CONSTRAINT "PK_Usuario" PRIMARY KEY (id_user);


--
-- TOC entry 2741 (class 1259 OID 16688)
-- Name: IX_Relationship14; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Relationship14" ON public."Pago" USING btree (id_user);


--
-- TOC entry 2730 (class 1259 OID 16650)
-- Name: IX_Relationship17; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Relationship17" ON public."Usuario" USING btree ("id_tipoU");


--
-- TOC entry 2750 (class 2606 OID 16715)
-- Name: Usuario 1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Usuario"
    ADD CONSTRAINT "1" FOREIGN KEY ("id_tipoU") REFERENCES public."Tipo_usuario"("id_tipoU");


--
-- TOC entry 2755 (class 2606 OID 16720)
-- Name: Pago 2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Pago"
    ADD CONSTRAINT "2" FOREIGN KEY ("id_tipoP") REFERENCES public."Tipo_pago"("id_tipoP");


--
-- TOC entry 2756 (class 2606 OID 16725)
-- Name: Pago 3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Pago"
    ADD CONSTRAINT "3" FOREIGN KEY (id_user) REFERENCES public."Usuario"(id_user);


--
-- TOC entry 2751 (class 2606 OID 16730)
-- Name: Asignacion 4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Asignacion"
    ADD CONSTRAINT "4" FOREIGN KEY (id_nivel, id_master) REFERENCES public."Niveles"(id_nivel, id_master);


--
-- TOC entry 2758 (class 2606 OID 16735)
-- Name: Abono 5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Abono"
    ADD CONSTRAINT "5" FOREIGN KEY (id_pago, "id:mensualidad") REFERENCES public."Pago"(id_pago, "id:mensualidad");


--
-- TOC entry 2754 (class 2606 OID 16740)
-- Name: Niveles 6; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Niveles"
    ADD CONSTRAINT "6" FOREIGN KEY (id_master) REFERENCES public."Docente"(id_master);


--
-- TOC entry 2752 (class 2606 OID 16745)
-- Name: Asignacion 7; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Asignacion"
    ADD CONSTRAINT "7" FOREIGN KEY (id_user) REFERENCES public."Usuario"(id_user);


--
-- TOC entry 2753 (class 2606 OID 16750)
-- Name: Asignacion 8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Asignacion"
    ADD CONSTRAINT "8" FOREIGN KEY (id_horario) REFERENCES public."Horario"(id_horario);


--
-- TOC entry 2757 (class 2606 OID 16755)
-- Name: Pago Pago_id:mensualidad_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Pago"
    ADD CONSTRAINT "Pago_id:mensualidad_fkey" FOREIGN KEY ("id:mensualidad") REFERENCES public."Mensualidad"(id_mensualidad);


-- Completed on 2019-09-20 16:24:06

--
-- PostgreSQL database dump complete
--

